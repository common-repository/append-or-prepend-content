!function(){"use strict";var e=window.wp.element,p=window.wp.plugins,t=window.wp.editPost,n=window.wp.data,r=window.wp.i18n;const o=e=>{if(!e)return null;const p=(0,n.useSelect)((e=>e("core/editor").getEditedPostAttribute("meta"))),{editPost:t}=(0,n.useDispatch)("core/editor");return[p[e]||"",p=>{t({meta:{[e]:p}})}]};var a=window.wp.components,l=()=>{const[p,t]=o("apporprep_action");return(0,e.createElement)(a.SelectControl,{label:(0,r.__)("Action","apporprepp"),value:p,options:[{label:(0,r._x)("-- Select an option --","select an action: prepend/append","apporprepp"),value:""},{label:(0,r.__)("Prepend","apporprepp"),value:"prepend"},{label:(0,r.__)("Append","apporprepp"),value:"append"}],onChange:t})},s=()=>{const[p,t]=o("apporprep_show_in_archive");return(0,e.createElement)(a.CheckboxControl,{label:(0,r.__)("Display in archives","apporprepp"),help:(0,r.__)("If the content should appear when a list of posts is retrieved (in search, archives...). Does not apply in excerpts","apporprepp"),checked:p,onChange:t})},i=()=>{const p=((0,n.useSelect)((e=>e("core").getPostTypes({per_page:-1})))||[]).filter((e=>{let{viewable:p,slug:t}=e;return!0===p&&"attachment"!==t})),[t]=o("apporprep_action"),[l,s]=o("apporprep_post_type");return(0,e.createElement)(a.SelectControl,{label:(0,r.sprintf)((0,r._x)("%s to ","Action to perform on a post type. i.e. Append to/Prepend to where %s is the post type","apporprepp"),t.charAt(0).toUpperCase()+t.slice(1)),value:l,options:[{label:(0,r.__)("-- Select a post type --","apporprepp"),value:""},...p.map((e=>{let{slug:p,name:t}=e;return{label:t,value:p}}))],onChange:s})},c=()=>{const[p,t]=o("apporprep_show_in_single");return(0,e.createElement)(a.CheckboxControl,{label:(0,r.__)("Display in single post","apporprepp"),help:(0,r.__)("If the content should appear when a single post is retrieved","apporprepp"),checked:p,onChange:t})};(0,p.registerPlugin)("apporprepend-plugin",{render:()=>{const p=(0,n.useSelect)((e=>e("core/editor").isEditedPostNew())),[a]=o("apporprep_action");return(0,e.createElement)(t.PluginDocumentSettingPanel,{name:"apporprepend-panel",title:(0,r.__)("Append or Prepend Options","apporprepp"),opened:!0},p?(0,e.createElement)("p",null,(0,r.__)("Please, save the post first in order to select an action.","apporprepp")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l,null),""!==a&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i,null),(0,e.createElement)(c,null),(0,e.createElement)(s,null))))},icon:"schedule"})}();